(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47697,e=>{"use strict";var t=e.i(43649),o=e.i(55195),r=e.i(76200),u=e.i(62237);let a=(0,o.createContext)(void 0);function l({children:e}){let[l,s]=(0,o.useState)(null),[i,n]=(0,o.useState)(!0),d=(0,r.useRouter)();return(0,o.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(s(JSON.parse(t)),u.default.defaults.headers.common.Authorization=`Bearer ${e}`),n(!1)},[]),(0,t.jsx)(a.Provider,{value:{user:l,login:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t)),u.default.defaults.headers.common.Authorization=`Bearer ${e}`,s(t),d.push("/dashboard")},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),delete u.default.defaults.headers.common.Authorization,s(null),d.push("/login")},loading:i,isAuthenticated:!!l},children:e})}function s(){let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>l,"useAuth",()=>s])}]);